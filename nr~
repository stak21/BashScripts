# ~/.profile: executed by the command interpreter for login shells.
# This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login
# exists.
# see /usr/share/doc/bash/examples/startup-files for examples.
# the files are located in the bash-doc package.

# the default umask is set in /etc/profile; for setting the umask
# for ssh logins, install and configure the libpam-umask package.
#umask 022

# if running bash
if [ -n "$BASH_VERSION" ]; then
    # include .bashrc if it exists
    if [ -f "$HOME/.bashrc" ]; then
	. "$HOME/.bashrc"
    fi
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi
#creates a executable shebang file
nx () {
    echo "#!/bin/bash" >> $1
    echo >> $1
    chmod u+x $1
    emacs +2 $1
}

#creates a README template
nr() {
    echo "# phTitle
---
## Description
Description
This project in the System engineering & DevOps series is about: phDescription
---
File|Task
---|---
phTable

## Author
Shoji Takashima
" >> README.md
    editNR
    askCommit
}
editNR() {
    echo "Type in a title"
    read title
    sed -i "s/phTitle/$title/" ./README.md
    echo "Type in a description"
    userDesc
    sed -i "s/phDescription/$description/" ./README.md
    echo "enter 1 || 2 : onlyTask = 1, task and description = 2\n 00 to cancel else I will ask again"
    read ans
    while [[ $ans != @(1|2|00) ]]
    do
	echo "enter 1 || 2 : onlyTask = 1, task and description = 2\n 00 to cancel else I will ask again"
	read ans
    done


    if (($ans == 00)); then
	rm ./README.md
	echo "I have deleted ./README.md. Have a nice day"
	return 0;
    fi
    echo "How many tasks are there?"
    read number

    if (($ans == 1)); then
	for ((i = 1; i <= number; i++))
	do 
	    echo "Type in task title"
	    read task
	    sed -i "s/phTable/$task | \nphTable/" README.md
	done
    elif (($ans == 2)); then
	for ((i = 1; i <= number; i++))
	do
	    echo "Type in task title"
	    read task
	    echo "Type in the description of the task or answer"
	    read answer
	    sed -i "s/phTable/$task | $answer\nphTable/" README.md
	done
    fi
    sed -i "s/phTable/\n/" README.md

}
userDesc() {
    userDesc = 
    read desc
    userDesc += "$desc"
    echo "If you want to add more press enter: else enter 1"
    read ans
    while [[ $ans != @("") ]]
    do
	read moreDesc
	userDesc += "$moreDesc"
	echo $userDesc
   done
}
askCommit() {
    echo "Enter: <enter> : to git commit, 00 to quit"
    read ans
    while [[ $ans != @(""|00|1) ]]
    do
	echo "Enter: <enter> : to git commit, 00 to quit, 1 to delete the README"
	read ans
    done

if (($ans == 00)); then
  return 0
elif (($ans == 1)); then
    rm ./README.md
    echo "I have deleted ./README.md. Have a nice day"
    return 0;
else 
    git add .
    git commit -m "Added README.md"
    git push origin master
fi
}
